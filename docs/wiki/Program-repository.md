A *repository* is a collection of programs that can be browsed and run from the [program browser](Features#program-browser)

![Program browser](https://github.com/jandebr/amstradPc/blob/main/screenshots/AmstradPC-Program-Browser.png)


## Basic program repository

The default implementation (see [BasicProgramFileRepository](https://github.com/jandebr/amstradPc/blob/main/src/org/maia/amstrad/program/repo/file/BasicProgramFileRepository.java)) returns a collection of Basic source code files (`.bas`) or Basic byte code files (`.bin`) that are stored as files on the local file system (see also [extension guide](Extending-Amstrad-PC#program-repositories))

The entry point for such a repository is a folder, referred to as the repository *root folder* or *home folder*


### Folder layouts

As for the subfolders, there is a choice between two different layouts


#### Subfolder per program

In this layout, every program has its own subfolder

The subfolder contains at least the program's code file (`.bas` or `.bin`). Optionally, there can be companion files such as a [metadata](Program-metadata) file (`.amd`), a *cover image* and screenshot images for display in the [program browser](Features#program-browser)

There can be any number of parent folders leading up to the *root folder* to organize the programs in the repository. A parent folder may contain its own *cover image* (as `cover.png` or `cover.jpg`) for display in the *program browser*

Example file structure

- Games *(root)*
    - Tape A
        - 01_Pirates
            - cover.png
            - info.amd
            - pirates.bas
            - screenshot.png
        - 02_Chess
            - chess.bas
            - chess-remastered.bas
            - cover.png
            - info.amd
        - cover.png
    - Tape B
        - 01_Pac-man
            - pac-man.bas
            - ...

This layout has several advantages

- When detected by the *program browser*, it will be smart in representing leaf subfolders as programs
- Companion files can be named freely as they are referenced from within the [program metadata](Program-metadata) file, which also can be named freely but must end with `.amd`
- One can have a *remastered* version of the program's code in the subfolder. Its filename should contain the word `remastered` and end with `.bas` or `.bin`. When detected, the *program browser* will use this version in favor of the original code version
- Files generated by the program when run can be placed in the program's subfolder and not interfere with other programs



#### Shared subfolders

In this alternative layout, multiple programs are placed inside the same subfolder

Example file structure

- Games *(root)*
    - Tape A
        - chess.amd
        - chess.bas
        - chess-cover.png
        - chess-remastered.bas
        - pirates.amd
        - pirates.bas
        - pirates-cover.png
        - pirates-screenshot.png
        - cover.png
    - Tape B
        - pac-man.bas
        - ...

Some notes

- As for the [program metadata](Program-metadata) files, they are associated with their programs by naming convention. The filename must equal the program's filename but end with `.amd`. For example, for a program `pirates.bas` the corresponding metadata file must be named `pirates.amd`
- Remastered code versions will be treated as separate programs by the *program browser*



### Order of items

The default order of items in a repository folder (subfolders and/or programs) is the lexicographical order

This order is maintained by the [program browser](Features#program-browser) when browsing the repository

To customize the order, the item names in a folder can be prepended with a numerical sequence number. The *sequence number* is hidden from view in the program browser when the `Hide sequence number` option is enabled in the [browser setup](Features#program-browser). Sequence numbers should be separated from the *displayed name* by either a space (' '), a dot ('.') or an underscore ('_') character. For example `01_Pirates`, `02_Chess` would be shown simply as `Pirates`, `Chess` and in that order

To make this work, all the items in a folder must conform to this naming convention
